? LICENSE.txt
Index: jquery_ui.info
===================================================================
RCS file: /cvs/drupal-contrib/contributions/modules/jquery_ui/jquery_ui.info,v
retrieving revision 1.3
diff -r1.3 jquery_ui.info
5a6,12
> 
> ; Information added by drupal.org packaging script on 2010-09-09
> version = "6.x-1.4"
> core = "6.x"
> project = "jquery_ui"
> datestamp = "1284001909"
> 
Index: jquery_ui.install
===================================================================
RCS file: /cvs/drupal-contrib/contributions/modules/jquery_ui/Attic/jquery_ui.install,v
retrieving revision 1.5.2.4
diff -r1.5.2.4 jquery_ui.install
10,44d9
<  * Implementation of hook_requirements().
<  */
< function jquery_ui_requirements($phase) {
<   $requirements = array();
<   $t = get_t();
<   $jquery_ui_version = 0;
< 
<   if ($phase == 'install') {
<     // The jquery_ui_get_version() function is in the .module file, which isn't
<     // loaded yet.
<     include_once dirname(__FILE__) . '/jquery_ui.module';
<   }
< 
<   $requirements['jquery_ui']['title'] = $t('jQuery UI');
<   if ($jquery_ui_version = jquery_ui_get_version()) {
<     // Everything looks good; display the current jQuery UI version.
<     $requirements['jquery_ui']['value'] = $jquery_ui_version;
<     $requirements['jquery_ui']['severity'] = REQUIREMENT_OK;
<   }
<   else {
<     // Required library wasn't found. Abort installation.
<     $requirements['jquery_ui']['value'] = $t('Not found');
<     // Provide a download link to the jQuery UI development bundle. The provided
<     // link will list the latest 1.6.x build.
<     $requirements['jquery_ui']['description'] = $t('The <a href="@jqueryui">jQuery UI</a> plugin is missing. <a href="@download">Download</a> and extract it to your <em>jquery_ui</em> module directory.', array(
<       '@jqueryui' => 'http://jqueryui.com',
<       '@download' => 'http://code.google.com/p/jquery-ui/downloads/list?q=1.6',
<     ));
<     $requirements['jquery_ui']['severity'] = REQUIREMENT_ERROR;
<   }
< 
<   return $requirements;
< }
< 
< /**
Index: jquery_ui.module
===================================================================
RCS file: /cvs/drupal-contrib/contributions/modules/jquery_ui/jquery_ui.module,v
retrieving revision 1.6.2.2
diff -r1.6.2.2 jquery_ui.module
37,46c37,38
< function jquery_ui_add($files = array()) {
<   static $loaded_files, $ui_core, $effects_core;
<   $jquery_ui_path = JQUERY_UI_PATH . '/ui';
<   $compression = variable_get('jquery_update_compression_type', 'mini');
< 
<   // Convert file to an array if it's not one already, to compensate for
<   // lazy developers. ;)
<   if (!is_array($files)) {
<     $files = array($files);
<   }
---
> function jquery_ui_add($files = array(), $version = NULL) {
>   static $loaded_files, $ui_core, $effects_core, $loaded_version;
48,51c40,41
<   // If core hasn't been added yet, add it.
<   if (!isset($ui_core)) {
<     $ui_core = TRUE;
<     jquery_ui_add(array('ui.core'));
---
>   if (!$version || ($version != '1.8' && $version != '1.7' && $version != '1.6')) {
>     $version = variable_get('jquery_ui_default_version', '1.6');
54,59c44,59
<   // Loop through list of files to include and add them to the page.
<   foreach ($files as $file) {
<     // Any effects files require the effects core file.
<     if (!isset($effects_core) && strpos($file, 'effects.') === 0) {
<       $effects_core = TRUE;
<       jquery_ui_add(array('effects.core'));
---
>   if (!$loaded_version || ($loaded_version == $version)) {
>     $loaded_version = $version;
> 
>     $jquery_ui_path = JQUERY_UI_PATH .'-'.$version. '/ui';
>     $compression = variable_get('jquery_update_compression_type', 'mini');
> 
>     // Convert file to an array if it's not one already, to compensate for
>     // lazy developers. ;)
>     if (!is_array($files)) {
>       $files = array($files);
>     }
> 
>     // If core hasn't been added yet, add it.
>     if (!isset($ui_core)) {
>       $ui_core = TRUE;
>       jquery_ui_add(array('ui.core'), $version);
62,76c62,90
<     // Load other files.
<     if (!isset($loaded_files[$file])) {
<       switch ($compression) {
<         case 'none':
<           $file_path = "$file.js";
<           break;
< 
<         case 'pack':
<           $file_path = "packed/$file.packed.js";
<           break;
< 
<         case 'mini':
<         default:
<           $file_path = "minified/$file.min.js";
<           break;
---
>     $prefix = ($version == '1.8') ? 'jquery.' : '';
> 
>     // Loop through list of files to include and add them to the page.
>     foreach ($files as $file) {
>       // Any effects files require the effects core file.
>       if (!isset($effects_core) && strpos($file, 'effects.') === 0) {
>         $effects_core = TRUE;
>         jquery_ui_add(array('effects.core'), $version);
>       }
> 
>       // Load other files.
>       if (!isset($loaded_files[$file])) {
>         switch ($compression) {
>           case 'none':
>             $file_path = "$prefix$file.js";
>             break;
> 
>           case 'pack':
>             $file_path = "packed/$prefix$file.packed.js";
>             break;
> 
>           case 'mini':
>           default:
>             $file_path = "minified/$prefix$file.min.js";
>             break;
>         }
>         $js_path = $jquery_ui_path . '/' . $file_path;
>         drupal_add_js($js_path);
>         $loaded_files[$file] = $js_path;
78,80d91
<       $js_path = $jquery_ui_path . '/' . $file_path;
<       drupal_add_js($js_path);
<       $loaded_files[$file] = $js_path;
