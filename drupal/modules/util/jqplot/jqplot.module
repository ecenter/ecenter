<?php
// $Id$

/**
 * @file
 *
 * Integrates jqPlot library with Drupal.
 */

/**
 * Register a "tablechart"
 */
function jqplot_register_tablechart($selector, $settings = array()) {
  $path = drupal_get_path('module', 'jqplot');

  // Core library
  drupal_add_js($path .'/jqplot/excanvas.min.js');
  drupal_add_js($path .'/jqplot/jquery.jqplot.min.js');

  // Our libraries and behaviors
  drupal_add_js($path .'/js/jquery.uuid.js');
  drupal_add_js($path .'/js/jquery.tablechart.js');
  drupal_add_js($path .'/js/tablechart-behaviors.js');

  if (!empty($settings['highlighter'])) {
    drupal_add_js($path .'/jqplot/plugins/jqplot.highlighter.min.js');
  }
  if (!empty($settings['cursor'])) {
    drupal_add_js($path .'/jqplot/plugins/jqplot.cursor.min.js');
  }

  // Plugins...
  /*drupal_add_js(drupal_get_path('module', 'ecenter_test') .'/jqplot/plugins/jqplot.dateAxisRenderer.js');
  drupal_add_js(drupal_get_path('module', 'ecenter_test') .'/jqplot/plugins/jqplot.highlighter.min.js');
  drupal_add_js(drupal_get_path('module', 'ecenter_test') .'/jqplot/plugins/jqplot.cursor.min.js');*/

  $behavior = array();
  $behavior[$selector] = $settings;
  drupal_add_js($behavior, 'setting');
}


